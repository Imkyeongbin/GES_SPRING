<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="Emp">
	<select id="total" resultType="int">
		select count(*) from emp
	</select>
	<select id="listAll" parameterType="Emp" resultType="Emp">
		select * from (select rownum rn, a.*
						from (select * from emp order by empno) a
						)
		WHERE rn BETWEEN #{start} and #{end}
	</select>
	<select id="kbEmpSelOne" parameterType="int" resultType="Emp">
	 	SELECT * FROM emp WHERE empno = #{empno}
	</select>
	<update id="TKempUpdate" parameterType="Emp">
		UPDATE emp SET job = #{job}, ename = #{ename}, mgr = #{mgr}, hiredate=to_date(#{hiredate}, 'yy/mm/dd hh24:mi:ss')
		, sal = #{sal}, <if test="comm!=null">comm = #{comm}, </if>
		deptno=#{deptno} WHERE empno = #{empno}
	</update>


</mapper>